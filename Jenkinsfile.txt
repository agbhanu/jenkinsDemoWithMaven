pipeline {
    
         agent any 
    
                  stages {
        
                          stage('clone') { 
            
                                                    steps {
                
                                                           sh "rm -rf jenkinsDemoWithMaven"
                
                                                           sh "git clone https://github.com/agbhanu/jenkinsDemoWithMaven.git"
                
                                                           sh "mvn clean -f jenkinsDemoWithMaven"
            
                                                          }
         
                                                   }
         
                         stage('Test') { 
            
                                                   steps {
                
                                                          sh "mvn test -f jenkinsDemoWithMaven"
            
                                                         }
        
                                       }
        
                         stage('Deploy') { 
            
                                          steps {
                
                                                 sh "mvn package -f jenkinsDemoWithMaven"
           
                                                }
        
                                         }
    
                         }

}